@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    color-scheme: light;
  }

  body {
    @apply bg-gradient-to-br from-blue-50 to-red-50 text-gray-900 transition-colors duration-300;
  }

  /* 主題 CSS 變數定義 */
  :root {
    --foreground: 17 24 39;
    --muted: 107 114 128;
    --accent: 37 99 235;
    --card: 255 255 255;
    --border: 229 231 235;
    --input: 255 255 255;
    --ring: 59 130 246;
    --theme-gradient: linear-gradient(
      135deg,
      rgb(239 246 255) 0%,
      rgb(254 242 242) 100%
    );
    --card-gradient: linear-gradient(
      135deg,
      rgb(255 255 255) 0%,
      rgb(249 250 251) 100%
    );
  }

  .dark {
    color-scheme: dark;
  }

  .dark body {
    @apply bg-gradient-to-br from-gray-900 to-blue-900 text-gray-100;
  }

  .dark {
    --foreground: 243 244 246;
    --muted: 156 163 175;
    --accent: 96 165 250;
    --card: 17 24 39;
    --border: 55 65 81;
    --input: 31 41 55;
    --ring: 96 165 250;
    --theme-gradient: linear-gradient(
      135deg,
      rgb(17 24 39) 0%,
      rgb(30 58 138) 100%
    );
    --card-gradient: linear-gradient(
      135deg,
      rgb(31 41 55) 0%,
      rgb(75 85 99) 100%
    );
  }

  /* 主題過渡效果 */
  .theme-transitioning *,
  .theme-transitioning *::before,
  .theme-transitioning *::after {
    transition:
      background-color 0.3s ease-in-out,
      border-color 0.3s ease-in-out,
      color 0.3s ease-in-out,
      fill 0.3s ease-in-out !important;
  }

  /* 更平滑的主題切換 */
  * {
    transition-property: background-color, border-color, color, fill;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }
}

@layer components {
  .mario-gradient {
    @apply bg-gradient-to-r from-mario-red via-mario-yellow to-mario-blue;
  }

  .stat-bar {
    @apply h-3 rounded-full transition-all duration-500 ease-in-out;
  }

  .card-hover {
    @apply transform transition-all duration-300 hover:scale-105 hover:shadow-2xl;
  }

  /* 主題感知組件 */
  .theme-card {
    @apply bg-card border border-border rounded-lg p-4;
    background-image: var(--card-gradient);
  }

  .theme-button {
    @apply bg-card border border-border text-foreground px-4 py-2 rounded-md transition-colors duration-200;
  }

  .theme-button:hover {
    @apply bg-muted text-foreground;
  }

  .theme-input {
    @apply bg-input border border-border text-foreground px-3 py-2 rounded-md;
  }

  .theme-input:focus {
    @apply ring-2 ring-ring border-transparent;
  }
}

@layer utilities {
  .text-foreground {
    color: rgb(var(--foreground));
  }

  .text-muted {
    color: rgb(var(--muted));
  }

  .text-accent {
    color: rgb(var(--accent));
  }

  .bg-card {
    background-color: rgb(var(--card));
  }

  .border-border {
    border-color: rgb(var(--border));
  }

  .bg-input {
    background-color: rgb(var(--input));
  }

  .ring-ring {
    --tw-ring-color: rgb(var(--ring));
  }

  .bg-theme-gradient {
    background: var(--theme-gradient);
  }

  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  }

  .dark .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }

  .bg-pattern {
    background-image:
      radial-gradient(
        circle at 20px 30px,
        rgba(255, 255, 255, 0.2) 2px,
        transparent 2px
      ),
      radial-gradient(
        circle at 70px 70px,
        rgba(255, 255, 255, 0.1) 1px,
        transparent 1px
      );
    background-size: 100px 100px;
  }

  .dark .bg-pattern {
    background-image:
      radial-gradient(
        circle at 20px 30px,
        rgba(0, 0, 0, 0.2) 2px,
        transparent 2px
      ),
      radial-gradient(
        circle at 70px 70px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px
      );
  }
}
